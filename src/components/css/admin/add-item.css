/* --- Global Variables (Assuming these are still defined elsewhere or here) --- */
:root {
    /* Primary Color Palette */
    --primary-purple: #7a57a1; /* A rich, calming purple */
    --dark-purple: #5c3b80; /* Deeper tone for accents and active states */
    --light-purple: #f0ebf5; /* Very light, almost white, background */
    --accent-green: #34c759; /* A vibrant green for positive actions/status */
    --accent-red: #ff3b30; /* A clear red for destructive actions/denied status */
    --accent-yellow: #ffcc00; /* A warm yellow for cautionary status */

    /* Grayscale & Text */
    --text-dark: #2c2c2e; /* Darkest text for headings */
    --text-medium: #8e8e93; /* Medium gray for descriptions and labels */
    --text-light: #ffffff; /* White text for buttons/dark backgrounds */
    --surface-white: #ffffff; /* Pure white for cards and modals */
    --surface-off-white: #fefefe; /* Very slight off-white for backgrounds within sections */

    /* Borders & Shadows */
    --border-light: #dddddd; /* Subtle light gray border */
    --shadow-sm: rgba(0, 0, 0, 0.05); /* Small, subtle shadow */
    --shadow-md: rgba(0, 0, 0, 0.1); /* Medium shadow for cards */
    --shadow-lg: rgba(0, 0, 0, 0.2); /* Larger shadow for modals */

    /* Transitions */
    --transition-ease: all 0.3s ease;
}

/* Modal Overlay */
.popup-modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5); /* Slightly darker overlay for better contrast with content */
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 20px; /* Ensures space on smaller screens to prevent content touch edges */
    z-index: 1000; /* Increased z-index to ensure it's on top */
    backdrop-filter: blur(5px); /* Add a subtle blur to background */
    animation: fadeIn 0.3s ease-out; /* Add fade-in animation */
}

/* Modal Container (Wrapper for the card) */
.popup-modal-content {
    /* Removed max-width and width: fit-content here */
    /* The sizing will be controlled by the .add-item-card */
    background: none;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 0;
    width: 100%; /* Allows the card to naturally define its max width within the padding of the overlay */
    animation: slideUp 0.3s ease-out; /* Add slide-up animation */

}

/* Card Container */
.add-item-card {
    background: var(--surface-white); /* Use variable */
    border-radius: 16px;
    padding: 5px 45px; /* Slightly more generous padding for a spacious feel */
    max-width: 6000px; /* **Adjusted: Increased max-width for a less narrow feel on desktop** */
    width: 100%; /* Ensures it's responsive and takes full width up to max-width */
    box-shadow: 0 15px 40px var(--shadow-lg); /* Use variable, slightly stronger shadow */
    margin: 0 auto; /* Center the card horizontally */
    box-sizing: border-box; /* Include padding in width calculation */
}

/* Title */
.add-item-title {
    font-size: 28px; /* Slightly larger title */
    font-weight: 700;
    margin-bottom: 25px; /* More space below title */
    color: var(--primary-purple); /* Use variable for title color */
    text-align: center;
}

/* Image Upload */
.image-upload-wrapper {
    margin-bottom: 25px; /* More space below image upload section */
    display: flex;
    justify-content: center;
}

.image-upload-box {
    border: 2px dashed var(--primary-purple); /* Use primary purple for dashed border */
    border-radius: 14px;
    padding: 10px;
    width: 100%; /* Ensures it fills the container */
    text-align: center;
    cursor: pointer;
    background-color: var(--light-purple); /* Use light purple for background */
    transition: var(--transition-ease); /* Use variable */
    display: flex;
    flex-direction: column;
    align-items: center;
    box-sizing: border-box; /* Include padding in width */
}

.image-upload-box:hover {
    background-color: #e2daed; /* A slightly darker light-purple on hover */
    border-color: var(--dark-purple); /* Darker purple border on hover */
}

.upload-icon {
    font-size: 40px; /* Slightly larger icon */
    margin-bottom: 10px; /* More space below icon */
    color: var(--dark-purple); /* Use dark purple for icon color */
}

.upload-text {
    font-size: 15px; /* Slightly larger text */
    color: var(--text-medium); /* Use variable */
}

.image-preview {
    max-width: 100%;
    max-height: 200px;
    object-fit: contain; /* Use 'contain' to ensure full image is visible, or 'cover' if you prefer filling the area */
    border-radius: 10px;
    margin-top: 15px; /* Space between upload box and preview if it appears */
    border: 1px solid var(--border-light); /* Subtle border for preview image */
    background-color: var(--surface-off-white);
}

.file-input {
    display: none;
}

/* Form Fields */
.add-item-form {
    display: flex;
    flex-direction: column;
    gap: 15px; /* Slightly increased gap between form fields */
}

.form-input,
.form-textarea,
select.form-input {
    padding: 14px 16px; /* Slightly more padding for inputs */
    border: 1px solid var(--border-light); /* Use variable */
    border-radius: 10px;
    font-size: 15px; /* Slightly larger font size */
    outline: none;
    transition: var(--transition-ease); /* Use variable */
    color: var(--text-dark); /* Darker text for input values */
    background-color: var(--surface-off-white); /* Light background for inputs */
}

.form-input:focus,
.form-textarea:focus,
select.form-input:focus {
    border-color: var(--primary-purple); /* Use primary purple on focus */
    box-shadow: 0 0 0 3px rgba(122, 87, 161, 0.2); /* Soft focus ring */
    background-color: var(--surface-white); /* White background on focus */
}

.form-textarea {
    min-height: 90px; /* Slightly taller textarea */
    resize: vertical;
}

/* Custom dropdown arrow for select */
select.form-input {
    appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%238e8e93' width='20px' height='20px'%3E%3Cpath d='M7 10l5 5 5-5z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 15px center; /* Adjust position based on new padding */
    background-size: 20px;
}


.form-button {
    margin-top: 20px; /* More space above button */
    padding: 14px; /* More padding for button */
    border: none;
    background-color: var(--primary-purple); /* Use primary purple */
    color: var(--text-light); /* White text */
    font-size: 17px; /* Slightly larger font */
    border-radius: 10px;
    cursor: pointer;
    transition: var(--transition-ease); /* Use variable */
    box-shadow: 0 5px 15px var(--shadow-sm); /* Subtle button shadow */
}

.form-button:hover {
    background-color: var(--dark-purple); /* Darker on hover */
    transform: translateY(-2px); /* Slight lift effect */
    box-shadow: 0 8px 20px var(--shadow-md); /* More pronounced shadow on hover */
}

.form-button:active {
    transform: translateY(0); /* Press down effect */
}

.form-error {
    color: var(--accent-red); /* Use variable */
    font-size: 13px;
    margin-top: 5px; /* Changed margin-bottom to margin-top for better placement with field */
    text-align: left; /* Align error message with input label */
}

/* Animations (ensure these are present in your stylesheet) */
@keyframes slideUp {
    0% {
        opacity: 0;
        transform: translateY(30px) scale(0.95);
    }
    100% {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

@keyframes fadeIn {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}


/* --- Responsive Adjustments --- */
@media (max-width: 576px) { /* Targeting smaller phones */
    .popup-modal-overlay {
        padding: 15px; /* Reduce padding on very small screens */
    }

    .add-item-card {
        padding: 25px 25px; /* Reduce internal padding on small screens */
        border-radius: 12px; /* Slightly less round on very small screens */
    }

    .add-item-title {
        font-size: 22px;
        margin-bottom: 20px;
    }

    .image-upload-box {
        padding: 25px;
        gap: 10px;
    }

    .upload-icon {
        font-size: 32px;
    }

    .upload-text {
        font-size: 13px;
    }

    .add-item-form {
        gap: 10px; /* Reduce gap between form fields */
    }

    .form-input,
    .form-textarea,
    select.form-input {
        padding: 12px 14px;
        font-size: 14px;
    }

    .form-textarea {
        min-height: 70px; /* Reduce min-height for smaller screens */
    }

    .form-button {
        padding: 12px;
        font-size: 15px;
    }
}

/* --------------------------------------------- */
/*  MODERN SEAMLESS SCROLLBAR FOR TEXTAREAS     */
/* --------------------------------------------- */

/* Remove default arrows & box styles */
.form-textarea {
    scrollbar-width: thin;                 /* Firefox smooth thin bar */
    scrollbar-color: var(--primary-purple) transparent;
    padding-right: 14px;
}

/* Chrome / Edge / Safari scrollbars */
.form-textarea::-webkit-scrollbar {
    width: 6px;                            /* Slim clean bar */
}

/* Track (background of scrollbar) */
.form-textarea::-webkit-scrollbar-track {
    background: transparent;               /* Seamless against textarea */
    border-radius: 10px;
}

/* Thumb (scroll handle) */
.form-textarea::-webkit-scrollbar-thumb {
    background: var(--primary-purple);     /* Soft purple */
    border-radius: 10px;
    transition: background 0.3s ease;
}

/* Hover effect (subtle highlight) */
.form-textarea::-webkit-scrollbar-thumb:hover {
    background: var(--dark-purple);
}

/* Remove scrollbar arrows entirely */
.form-textarea::-webkit-scrollbar-button {
    display: none;
}
